install.packages("tmap")
library("tmap")
library("leaflet")
library(tmap)
library(leaflet)
install.packages("tmap")
install.packages("leaflet")
library(tmap)
library(leaflet)
iowageo <- read_shape(file=/Users/colecansler/Desktop/498F/Final-Project/Data/tl_2013_19_place.shp)
iowageo <- read_shape(file="/Users/colecansler/Desktop/498F/Final-Project/Data/tl_2013_19_place.shp")
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015/Scripts')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
#map <- setView(map,lng = coordinates[2], lat = coordinates[1], zoom = 12)
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
lat_and_lng("the ave")
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
lat_and_lng("the ave")
c <- lat_and_lng("the ave")
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
lat_and_lng("the ave")
lat_and_lng <- function (place){
if (place == "the ave"){
lat_lng <- c(47.661281,-122.313154,18)
}
if (place == "space needle"){
lat_lng <- c(47.620423,-122.349355,18)
}
if (place == "china town"){
lat_lng <- c(47.598409,-122.325060,18)
}
return (lat_lng)
}
lat_and_lng <- function (place){
if (place == "the ave"){
lat_lng <- c(47.661281,-122.313154,18)
}
if (place == "space needle"){
lat_lng <- c(47.620423,-122.349355,18)
}
if (place == "china town"){
lat_lng <- c(47.598409,-122.325060,18)
}
return (lat_lng)
}
lat_and_lng("the ave")
lat_and_lng("space needle")
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
?leafletProxy
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
library(RDSTK)
?street2coordinates
street2coordinates("2543 Graystone Place, Simi Valley, CA 93065")
?geocode
library(geocode)
library(ggmap)
?geocode
geocode("Seattle, WA")
geocode("523 97th AVE NE")
geocode("523 97th AVE NE")[1]
library(ggmap)
geocode("Space Needle")
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
geocode("aesf")
n <- geocode("FAef")
View(n)
length(n)
n[1]
is.na(n)
in.na(n[1])
is.na(n[1])
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
shiny::runApp('Desktop/498F/Seattle-911-Calls-2015')
data <- read.csv("Data/911Calls.csv")
setwd("/Users/colecansler/Desktop/498F/Seattle-911-Calls-2015")
data <- read.csv("Data/911Calls.csv")
most_instances(data, "TRAFFIC RELATED CALLS")
d <- most_instances(data, "TRAFFIC RELATED CALLS")
View(d)
d <- most_instances(data, "ABANDONED VEHICLE")
View(d)
traffic_calls <- filter(summary, Event.Clearance.Group == "TRAFFIC RELATED CALLS")
library(dplyr)
traffic_calls <- filter(summary, Event.Clearance.Group == "TRAFFIC RELATED CALLS")
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
traffic_calls <- filter(summary, Event.Clearance.Group == "TRAFFIC RELATED CALLS")
View(traffic_calls)
df <- mutate(traffic_calls, instances = most_instances(data,traffic_calls$Event.Clearance.Description))
View(df)
lapply
?lapply
lapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)
df <- mutate(traffic_calls, instances = lapply(traffic_calls$Event.Clearance.Description,most_instances, data = data))
View(df)
df <- mutate(traffic_calls, instances = lapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)[1])
View(df)
?rapply
?sapply
sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)
df <- mutate(traffic_calls, instances = sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data))
View(df)
View(traffic_calls)
df <- sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)
df
class(df)
as.data.frame(df)
sapply(traffic_calls$Event.Clearance.Description,most_instances)
sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)
most_instances(data,traffic_calls$Event.Clearance.Description)
most_instances(data,traffic_calls$Event.Clearance.Description[1])
most_instances(data,traffic_calls$Event.Clearance.Description[2])
df <- most_instances(data,traffic_calls$Event.Clearance.Description[1])
View(df)
class(df)
as.character(df)
df <- most_instances(data,traffic_calls$Event.Clearance.Description[1])
class(df)
as.vector(df)
df
df[1]
df[2]
library(lubridate)
library(dplyr)
# Sort's the data frame by date
sort_by_date <- function(data) {
data <-
data[order(as.Date(data$At.Scene.Time, "%m/%d/%Y"), decreasing = FALSE),]
return (data)
}
# Most instances
most_instances <- function(data, description){
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances)) %>%
select(Hundred.Block.Location)
street <- as.character(street)
return(street)
}
# Violent crimes only
violent_crimes <- function(data) {
data <-
filter(
data, Event.Clearance.Description == "ASSAULTS, GANG RELATED" |
Event.Clearance.Description == "HOMICIDE" |
Event.Clearance.Description == "ARMED ROBBERY" |
Event.Clearance.Description == "BURGLARY - RESIDENTIAL, OCCUPIED" |
Event.Clearance.Description == "STRONG ARM ROBBERY" |
Event.Clearance.Description == "THEFT - MISCELLANEOUS" |
Event.Clearance.Description == "THEFT - CAR PROWL" |
Event.Clearance.Description == "HARASSMENT, THREATS" |
Event.Clearance.Description == "PROPERTY DESTRUCTION" |
Event.Clearance.Description == "PERSON WITH A GUN" |
Event.Clearance.Description == "BURGLARY - COMMERCIAL" |
Event.Clearance.Description == "FIGHT DISTURBANCE" |
Event.Clearance.Description == "PERSON WITH A WEAPON (NOT GUN)" |
Event.Clearance.Description == "HARASSMENT, THREATS - BY TELEPHONE, WRITING" |
Event.Clearance.Description == "DRIVE BY SHOOTING (NO INJURIES)"
)
return (data)
}
# Returns the column number where a month ends
# Useful for filtering certain months
monthly_row_nums <- function(month) {
row_num <- -1
if (month == 1) {
row_num <- 1
}
if (month == 2) {
row_num <- 5749
}
if (month == 3) {
row_num <- 11012
}
if (month == 4) {
row_num <- 17250
}
if (month == 5) {
row_num <- 23547
}
if (month == 6) {
row_num <- 31866
}
if (month == 7) {
row_num <- 39470
}
if (month == 8) {
row_num <- 49783
}
if (month == 9) {
row_num <- 58585
}
if (month == 10) {
row_num <- 66623
}
if (month == 11) {
row_num <- 74633
}
if (month == 12) {
row_num <- 83418
}
if (month == 13) {
row_num <- 91067
}
return (row_num)
}
# Lattitudes and longitudes for a given destinations
lat_and_lng <- function (place) {
return (geocode(place))
}
most_instances(data,traffic_calls$Event.Clearance.Description[1])
most_instances <- function(data, description){
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances)) %>%
select(Hundred.Block.Location)
return(street)
}
most_instances(data,traffic_calls$Event.Clearance.Description[1])
traffic_calls$Event.Clearance.Description <- as.character(traffic_calls$Event.Clearance.Description)
most_instances(data,traffic_calls$Event.Clearance.Description[1])
df <- most_instances(data,traffic_calls$Event.Clearance.Description[1])
df[1,1]
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
df <- most_instances(data,traffic_calls$Event.Clearance.Description[1])
View(df)
df[1]
class(df)
View(traffic_calls)
most_instances(data, "BLOCKING VEHICLE")
most_instances <- function(data, description){
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances))
return(street)
}
most_instances(data, "BLOCKED VEHICLE")
most_instances(data, "BLOCKING VEHICLE")
most_instances <- function(data, description){
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances))
return(street)
}
data <- read.csv("Data/911Calls.csv")
df <- most_instances(data, "BLOCKING VEHICLE")
View(df)
df[1]
as.character(df[1])
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
View(data)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
View(data)
df <- most_instances(data, "BLOCKING VEHICLE")
View(df)
df
df[1]
df <- most_instances(data, "BLOCKING VEHICLE")
View(df)
View(most_instances)
most_instances <- function(data, description){
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances)) %>%
select(Hundred.Block.Location)
return(street)
}
View(most_instances)
df <- most_instances(data, "BLOCKING VEHICLE")
View(df)
df <- most_instances(data, unique(data$Event.Clearance.Description))
View(df)
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
traffic_calls <- filter(summary, Event.Clearance.Group == "TRAFFIC RELATED CALLS")
traffic_calls <- mutate(traffic_calls, most = most_instances(data,traffic_calls$Event.Clearance.Description))
View(traffic_calls)
traffic_calls$Event.Clearance.Description <- as.character(traffic_calls$Event.Clearance.Description)
traffic_calls <- mutate(traffic_calls, most = most_instances(data,traffic_calls$Event.Clearance.Description))
View(traffic_calls)
View(data)
most_instances(data,"Burglary")
most_instances(data,"Burglary")
c <-  most_instances(data,"Burglary")
View(c)
View(data)
description <- "BURGLARY"
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances)) %>%
select(Hundred.Block.Location)
View(street)
View(data)
description <- "BURGLARY - COMMERCIAL"
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances)) %>%
select(Hundred.Block.Location)
View(street)
data <- read.csv("Data/911Calls.csv")
View(data)
description <- "TRESPASS"
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
filter(instances == max(instances)) %>%
select(Hundred.Block.Location)
View(street)
street
class(street)
data[1,1]
class(data[1,1])
class(data[1,5])
data[1,5]
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description)
View(street)
street <- group_by(street,Hundred.Block.Location)
street <- summarize(instances = n())
street <- summarize(street, instances = n())
View(street)
street[1,1]
class(street[1,1])
as.character(street$Hundred.Block.Location)
street[1,1]
street$Hundred.Block.Location
street$Hundred.Block.Location[1]
street <- arrange(street,instances)
View(street)
street <- arrange(street,-instances)
View(street)
street$Hundred.Block.Location
street$Hundred.Block.Location[1]
street <- street$Hundred.Block.Location[1]
most_instances <- function(data, description){
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
street <- group_by(Hundred.Block.Location) %>%
street <- summarize(instances = n()) %>%
street <- arrange(-instances) %>%
value <- street$Hundred.Block.Location[1]
return(value)
}
most_instances(data,description)
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
street <- group_by(Hundred.Block.Location) %>%
street <- summarize(instances = n()) %>%
most_instances <- function(data, description){
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
street <- group_by(Hundred.Block.Location) %>%
street <- summarize(instances = n()) %>%
street <- arrange(-instances)
value <- street$Hundred.Block.Location[1]
return(value)
}
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
street <- group_by(Hundred.Block.Location) %>%
street <- summarize(instances = n()) %>%
street <- arrange(-instances)
most_instances <- function(data, description){
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
arrange(-instances)
value <- street$Hundred.Block.Location[1]
return(value)
}
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
arrange(-instances)
View(street)
value <- street$Hundred.Block.Location[1]
return(value)
most_instances(data,description)
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
traffic_calls <- filter(summary, Event.Clearance.Group == "TRAFFIC RELATED CALLS")
traffic_calls$Event.Clearance.Description <- as.character(traffic_calls$Event.Clearance.Description)
traffic_calls <- mutate(traffic_calls, most_instances = most_instances(data,traffic_calls$Event.Clearance.Description))
View(traffic_calls)
traffic_calls <- mutate(traffic_calls, most_instances = sapply(traffic_calls$Event.Clearance.Description,most_instances,data = data))
traffic_calls <- mutate(traffic_calls, most_instances = sapply(traffic_calls$Event.Clearance.Description,most_instances,data = data))
?saaply
traffic_calls <- mutate(traffic_calls, most_instances = sapply(traffic_calls$Event.Clearance.Description,most_instances,data = data))
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
data <- read.csv("Data/911Calls.csv")
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
traffic_calls <- filter(summary, Event.Clearance.Group == "TRAFFIC RELATED CALLS")
traffic_calls$Event.Clearance.Description <- as.character(traffic_calls$Event.Clearance.Description)
View(traffic_calls)
most_instances <- function(description){
data <- read.csv("Data/911Calls.csv")
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
arrange(-instances)
value <- street$Hundred.Block.Location[1]
return(value)
}
l <- sapply(traffic_calls$Event.Clearance.Description,most_instances)
l
l <- sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)
most_instances <- function(description, data){
data$Event.Clearance.Description <- as.character(data$Event.Clearance.Description)
data$Hundred.Block.Location <- as.character(data$Hundred.Block.Location)
street <- filter(data, Event.Clearance.Description == description) %>%
group_by(Hundred.Block.Location) %>%
summarize(instances = n()) %>%
arrange(-instances)
value <- street$Hundred.Block.Location[1]
return(value)
}
s <- sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data)
traffic_calls <- mutate(traffic_calls, greatest_street = sapply(traffic_calls$Event.Clearance.Description,most_instances, data = data))
View(traffic_calls)
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
?sidebarPanel
?sidebarLayout
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
