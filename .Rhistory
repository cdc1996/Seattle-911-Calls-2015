text = paste(Event.Clearance.Group, ":", instances, "instances", sep = " "),
hoverinfo = "text"
)
state_data
m1 <- list (
b = 125,
pad = 4
)
#set x axis title
x1 <- list (
title = "Category of Crime",
titlefont = f
)
#set y axis title
y1 <- list (
title = "Instances",
titlefont = f
)
state_data <- layout(state_data, title = "Breakdown of 2015 Seattle 911 Calls by Category", xaxis = x1, yaxis = y1, margin = m1)
state_data
m1 <- list (
b = 200,
pad = 4
)
state_data <- layout(state_data, title = "Breakdown of 2015 Seattle 911 Calls by Category", xaxis = x1, yaxis = y1, margin = m1)
state_data
shiny::runApp()
shiny::runApp()
shiny::runApp()
data <- read.csv("Data/911Calls.csv")
types <- unique(data$Event.Clearance.Group)
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
View(summary)
types <- unique(data$Event.Clearance.Group)[1:21]
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
state_data <- plot_ly(summary,
x = Event.Clearance.Group,
y = instances,
name = "Crime",
type = "bar",
text = paste(Event.Clearance.Group, ":", instances, "instances", sep = " "),
hoverinfo = "text"
)
state_data
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
data <- read.csv("Data/911Calls.csv")
summary <- group_by(data, Event.Clearance.Group, Event.Clearance.Description) %>%
summarize(instances = n())
View(summary)
summary <- group_by(data, Event.Clearance.Group) %>%
summarize(instances = n())
View(summary)
state_data <- plot_ly(summary,
x = Event.Clearance.Group,
y = instances,
name = "Crime",
type = "bar",
text = paste(Event.Clearance.Group, ":", instances, "instances", sep = " "),
hoverinfo = "text"
)
m1 <- list (
b = 200,
pad = 4
)
#set x axis title
x1 <- list (
title = "Category of Crime",
titlefont = f
)
#set y axis title
y1 <- list (
title = "Instances",
titlefont = f
)
state_data <- layout(state_data, title = "Breakdown of 2015 Seattle 911 Calls by Category", xaxis = x1, yaxis = y1, margin = m1)
state_data
View(summary)
summary1 <- slice(summary,1:21)
state_data <- plot_ly(summary1,
x = Event.Clearance.Group,
y = instances,
name = "Crime",
type = "bar",
text = paste(Event.Clearance.Group, ":", instances, "instances", sep = " "),
hoverinfo = "text"
)
m1 <- list (
b = 200,
pad = 4
)
#set x axis title
x1 <- list (
title = "Category of Crime",
titlefont = f
)
#set y axis title
y1 <- list (
title = "Instances",
titlefont = f
)
state_data <- layout(state_data, title = "Breakdown of 2015 Seattle 911 Calls by Category", xaxis = x1, yaxis = y1, margin = m1)
state_data
shiny::runApp()
state_data <- plot_ly(summary,
rg
)
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
install.packages("leaflet")
shiny::runApp()
install.packages("ggmap")
shiny::runApp()
install.packages("lubridate")
shiny::runApp()
setwd("/Users/drewmccoy/GitHub/info-498f/assignments/Seattle-911-Calls-2015")
data <- read.csv("Data/911Calls.csv")
View(data)
library(dplyr)
library(plotly)
fuck <- "12/30/15 20:42"
substr(fuck, 1, 7)
substr(fuck, 1, 8)
sorted_data <- data %>%
mutate(date = substr(At.Scene.Time, 1, 8))
View(sorted_data)
sorted_data <- data %>%
mutate(date = as.Date(substr(At.Scene.Time, 1, 8)))
substr(fuck, 1, 8)
paste0(2015, substr(fuck, 3, 8))
?gsub
gsub("/", "-", paste0(2015, substr(fuck, 3, 8)))
sorted_data <- data %>%
mutate(date = gsub("/", "-", paste0(2015, substr(fuck, 3, 8))))
sorted_data <- data %>%
mutate(date = gsub("/", "-", paste0(2015, substr(fuck, 3, 8)))) %>%
group_by(date) %>%
summarise(calls = n())
sorted_data <- data %>%
mutate(date = gsub("/", "-", paste0(2015, substr(At.Scene.Time, 3, 8)))) %>%
group_by(date) %>%
summarise(calls = n())
strptime("12/9/2007","%m/%d/%Y")
strptime(fuck,"%m/%d/%Y")
strptime(fuck,"%m/%d/%y")
strptime(fuck,"%m/%d/%y")
strsplit(fuck, "/")
strsplit(fuck, "/")[1]
strsplit(fuck, "/")[1][1]
unlist(strsplit(fuck, "/"))
unlist(strsplit(fuck, "/"))[1]
unlist(strsplit(fuck, "\s"))[1]
unlist(strsplit(fuck, " "))[1]
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")
sorted_data <- data %>%
mutate(date = strptime(unlist(strsplit(At.Scene.Time, " "))[1],"%m/%d/%y")) %>%
group_by(date) %>%
summarise(calls = n())
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")
sorted_data <- data %>%
mutate(date = strptime(unlist(strsplit(At.Scene.Time, " "))[1],"%m/%d/%y")) %>%
group_by(date) %>%
summarise(calls = n())
sorted_data <- data %>%
mutate(date = as.character(strptime(unlist(strsplit(At.Scene.Time, " "))[1],"%m/%d/%y"))) %>%
group_by(date) %>%
summarise(calls = n())
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")
type(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y"))
class(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y"))
?strptime
class(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y", usetz = FALSE))
class(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y", usetz = FALSE)))
strsplit(fuck, " "))[1],"%m/%d/%y", usetz = FALSE)
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y", usetz = FALSE))
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y", usetz = FALSE)
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y", usetz = TRUE)
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")
as.character(strptime(unlist(strsplit(At.Scene.Time, " "))[1],"%m/%d/%y"))
as.character(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y"))
class(as.character(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")))
class(as.vector(strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")))
sorted_data <- data %>%
mutate(date = as.character(strptime(unlist(strsplit(At.Scene.Time, " "))[1],"%m/%d/%y"))) %>%
group_by(date) %>%
summarise(calls = n())
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y"))
strptime(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")
format(unlist(strsplit(fuck, " "))[1],"%m/%d/%y")
strsplit(At.Scene.Time, " "))[1]
strsplit(fuck, " ")[1]
unlist(strsplit(fuck, " "))[1]
class(unlist(strsplit(fuck, " "))[1])
date <- "12/30/15"
temp <- unlist(strsplit(date, "/"))
temp
result <- ""
format_date <- function(date) {
date <- "12/30/15"
temp <- unlist(strsplit(date, "/"))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1])
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
}
date <- "12/30/15"
temp <- unlist(strsplit(date, "/"))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1])
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
date <- "12/30/15"
temp <- unlist(strsplit(date, "/"))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1])
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
temp
result
date <- "12/30/15"
temp <- unlist(strsplit(date, "/"))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
date <- "3/1/15"
temp <- unlist(strsplit(date, "/"))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
temp
temp[2] < 10
date <- "3/1/15"
temp <- unlist(strsplit(date, "/"))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
temp[1] < 10
temp[1]
class(temp[1])
class(temp[2])
date <- "3/1/15"
temp <- as.vector(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
temp
class(temp)
class(temp[1])
date <- "3/1/15"
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
date <- "12/23/15"
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
sorted_data <- data %>%
mutate(date = format_date(unlist(strsplit(At.Scene.Time, " "))[1])) %>%
group_by(date) %>%
summarise(calls = n())
format_date <- function(date) {
date <- "12/23/15"
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
}
data$At.Scene.Time
data$At.Scene.Time
format_date(unlist(strsplit(data$At.Scene.Time, " "))[1])
unlist(strsplit(data$At.Scene.Time, " "))[1]
data <- read.csv("Data/911Calls.csv", stringsAsFactors = FALSE)
class(data$As.Scene.Time)
data$At.Scene.Time
library(dplyr)
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
sorted_data <- data %>%
mutate(date = format_date(unlist(strsplit(At.Scene.Time, " "))[1]))
format_date <- function(date) {
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
}
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
sorted_data <- data %>%
mutate(date = format_date(unlist(strsplit(At.Scene.Time, " "))[1])) %>%
group_by(date) %>%
summarise(calls = n())
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
sorted_data <- data %>%
mutate(date = format_date(unlist(strsplit(At.Scene.Time, " "))[1]))
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
View(data)
View(sorted_data)
sorted_data <- format_date(data$At.Scene.Time)
class(data$At.Scene.Time)
class(as.vector(data$At.Scene.Time))
as.Date.character(unlist(strsplit(fuck, " "))[1])
fuck <- "12/30/15 20:42"
as.Date.character(unlist(strsplit(fuck, " "))[1])
top(data$At.Scene.Time)
head(data$At.Scene.Time)
sorted_data <- format_date(head(data$At.Scene.Time))
bottom(data$At.Scene.Time)
?head
tail(data$At.Scene.Time)
sorted_data <- format_date(tail(data$At.Scene.Time))
date <- "3/21/15 13:14"
date <- unlist(strsplit(date, " "))[1]
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
c("3/21/15 13:14", "2/27/15 23:26", "8/1/15 7:13", "1/8/15 21:49", "4/21/15 12:54", "8/6/15 22:20")
fuck <- c("3/21/15 13:14", "2/27/15 23:26", "8/1/15 7:13", "1/8/15 21:49", "4/21/15 12:54", "8/6/15 22:20")
fuck
format_date(fuck)
fuck
format_date <- function(date) {
date <- unlist(strsplit(date, " "))[1]
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
}
format_date(fuck)
fuck
fuck
fuck <- fuck[1]
fuck
substr(fuck, -5)
substr(fuck, length(fuck) - 5, length(fuck))
?substr
substr(fuck, length(fuck) - 5, length(fuck))
length(fucl)
length(fuck)
len(fuck)
substr(fuck, nchar(fuck) - 5, nchar(fuck))
substr(fuck, nchar(fuck) - 4, nchar(fuck))
fuck <- "12/30/15 8:28"
substr(fuck, nchar(fuck) - 4, nchar(fuck))
fuck[1] == " "
fuck[1]
substr(fuck, nchar(fuck) - 4, nchar(fuck))[1]
date <- "6/8/15 23:04"
date <- "6/8/15 23:04"
date <- unlist(strsplit(date, " "))[1]
date
temp <- as.integer(unlist(strsplit(date, "/")))
temp
temp[1]
date <- "6/8/15 23:04"
date <- unlist(strsplit(date, " "))[1]
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
result
sorted_data <- lapply(formate_date, data$At.Scene.Time)
sorted_data <- lapply(data$At.Scene.Time, format_date)
format_date <- function(date) {
date <- unlist(strsplit(date, " "))[1]
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
}
sorted_data <- lapply(data$At.Scene.Time, format_date)
lapply
?lapply
source('~/GitHub/info-498f/assignments/Seattle-911-Calls-2015/Scripts/year_graph.r', echo=TRUE)
class(sorted_data)
format_date("12/30/15 20:42")
format_date("1/3/15 20:42")
class(data$At.Scene.Time)
as.vector(data$At.Scene.Time)
class(as.vector(data$At.Scene.Time))
format_date("1/3/15 20:42")
sorted_data <- lapply(data$At.Scene.Time, format_date)
format_date <- function(date) {
date <- unlist(strsplit(date, " "))[1]
temp <- as.integer(unlist(strsplit(date, "/")))
result <- "2015-"
if (temp[1] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[1], "-")
if (temp[2] < 10) {
result <- paste0(result, "0")
}
result <- paste0(result, temp[2])
return(result)
}
setwd("/Users/drewmccoy/GitHub/info-498f/assignments/Seattle-911-Calls-2015")
data <- read.csv("Data/911Calls.csv", stringsAsFactors = FALSE)
library(dplyr)
library(plotly)
sorted_data <- lapply(data$At.Scene.Time, format_date)
sorted_data <- lapply(tail(data$At.Scene.Time), format_date)
sorted_data <- "lol"
sorted_data <- "lol"
